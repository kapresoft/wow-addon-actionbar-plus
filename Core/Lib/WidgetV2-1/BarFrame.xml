<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">

    <Script file="Backdrops.lua"/>

    <!-- Note: Don't inherit from UIParent because it will inherit scale as well -->
    <Frame name="ABP_FrameTemplate" frameStrata="MEDIUM" virtual="true"
           movable="true" clampedToScreen="true" inherits="BackdropTemplate">
        <Scripts>
            <OnLoad>
                if ABP_enableV2 ~= true then self:UnregisterAllEvents(); self:Hide(); return; end
                self:RegisterForDrag("LeftButton")
                self:SetScale(UIParent:GetScale())

                ABP_ApplyBackdrop(self, ABP_BACKDROPS.backdrop)

                local numButtons = 5
                local buttonSize = 36
                local padding = 6 -- space between buttons
                local paddingAll = 14

                local totalWidth = paddingAll + (numButtons * buttonSize) + ((numButtons - 1) * padding) + paddingAll
                local totalHeight = buttonSize + paddingAll + paddingAll

                self:SetSize(totalWidth, totalHeight)
            </OnLoad>
            <OnDragStart>
                self:StartMoving()
            </OnDragStart>
            <OnDragStop>
                self:StopMovingOrSizing()
            </OnDragStop>
        </Scripts>
        <Size>
            <AbsDimension x="50" y="50"/>
        </Size>
        <Anchors>
            <Anchor point="CENTER" relativeTo="UIParent" relativePoint="CENTER" y="100" x="100"/>
        </Anchors>
        <Layers>
            <Layer level="BACKGROUND">
                <Texture name="$parentBackground">
                    <Size>
                        <AbsDimension x="220" y="50"/>
                    </Size>
                    <Anchors>
                        <Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT" y="-3"/>
                    </Anchors>
                    <Color r="0" g="0" b="0" a="0.3"/>
                </Texture>
            </Layer>
        </Layers>
    </Frame>

    <Frame name="ABP_BarMainFrameTemplate" frameStrata="MEDIUM" hidden="false" virtual="true"
           movable="true" clampedToScreen="true" inherits="BackdropTemplate">
        <Scripts>
            <OnLoad>
                if ABP_enableV2 ~= true then self:UnregisterAllEvents(); self:Hide(); return; end
                self:RegisterForDrag("LeftButton")
                self:SetScale(UIParent:GetScale())

                ABP_ApplyBackdrop(self, ABP_BACKDROPS.backdrop)

                local numButtons = 5
                local buttonSize = 36
                local padding = 6 -- space between buttons
                local paddingAll = 14

                local totalWidth = paddingAll + (numButtons * buttonSize) + ((numButtons - 1) * padding) + paddingAll
                local totalHeight = buttonSize + paddingAll + paddingAll

                self:SetSize(totalWidth, totalHeight)
            </OnLoad>
            <OnDragStart>
                self:StartMoving()
            </OnDragStart>
            <OnDragStop>
                self:StopMovingOrSizing()
            </OnDragStop>
        </Scripts>
        <Size>
            <AbsDimension x="50" y="50"/>
        </Size>
        <Anchors>
            <Anchor point="CENTER" relativeTo="UIParent" relativePoint="CENTER" y="100" x="100"/>
        </Anchors>
        <Layers>
            <Layer level="BACKGROUND">
                <Texture name="$parentBackground">
                    <Size>
                        <AbsDimension x="220" y="50"/>
                    </Size>
                    <Anchors>
                        <Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT" y="-3"/>
                    </Anchors>
                    <Color r="0" g="0" b="0" a="0.3"/>
                </Texture>
            </Layer>
        </Layers>
    </Frame>

    <!-- Note: Don't inherit from UIParent because it will inherit scale as well -->
    <Frame name="ABP_BarMainFrame" frameStrata="MEDIUM" hidden="false"
           movable="true" clampedToScreen="true" inherits="BackdropTemplate">
        <Scripts>
            <OnLoad>
                if ABP_enableV2 ~= true then self:UnregisterAllEvents(); self:Hide(); return; end
                self:RegisterForDrag("LeftButton")
                self:SetScale(UIParent:GetScale())

                ABP_ApplyBackdrop(self, ABP_BACKDROPS.backdrop)

                local numButtons = 5
                local buttonSize = 36
                local padding = 6 -- space between buttons
                local paddingAll = 14

                local totalWidth = paddingAll + (numButtons * buttonSize) + ((numButtons - 1) * padding) + paddingAll
                local totalHeight = buttonSize + paddingAll + paddingAll

                self:SetSize(totalWidth, totalHeight)
            </OnLoad>
            <OnDragStart>
                self:StartMoving()
            </OnDragStart>
            <OnDragStop>
                self:StopMovingOrSizing()
            </OnDragStop>
        </Scripts>
        <Size>
            <AbsDimension x="50" y="50"/>
        </Size>
        <Anchors>
            <Anchor point="CENTER" relativeTo="UIParent" relativePoint="CENTER" y="100" x="100"/>
        </Anchors>
        <Layers>
            <Layer level="BACKGROUND">
                <Texture name="$parentBackground">
                    <Size>
                        <AbsDimension x="220" y="50"/>
                    </Size>
                    <Anchors>
                        <Anchor point="TOPLEFT" relativeTo="$parent" relativePoint="TOPLEFT" y="-3"/>
                    </Anchors>
                    <Color r="0" g="0" b="0" a="0.3"/>
                </Texture>
            </Layer>
        </Layers>
    </Frame>

    <CheckButton name="ABP_Button1" parentKey="Button1" inherits="ABP_ButtonTemplate" parent="ABP_BarMainFrame" id="1000">
        <Anchors>
            <Anchor point="LEFT" relativePoint="LEFT">
                <Offset>
                    <AbsDimension x="16" y="0"/>
                </Offset>
            </Anchor>
        </Anchors>
    </CheckButton>
    <CheckButton name="ABP_Button2" inherits="ABP_ButtonTemplate" parent="ABP_BarMainFrame" id="1001">
        <Anchors>
            <Anchor point="LEFT" relativeTo="ABP_Button1" relativePoint="RIGHT">
                <Offset>
                    <AbsDimension x="6" y="0"/>
                </Offset>
            </Anchor>
        </Anchors>
    </CheckButton>
    <CheckButton name="ABP_Button3" inherits="ABP_ButtonTemplate" parent="ABP_BarMainFrame" id="1002">
        <Anchors>
            <Anchor point="LEFT" relativeTo="ABP_Button2" relativePoint="RIGHT">
                <Offset>
                    <AbsDimension x="6" y="0"/>
                </Offset>
            </Anchor>
        </Anchors>
    </CheckButton>
    <CheckButton name="ABP_Button4" inherits="ABP_ButtonTemplate" parent="ABP_BarMainFrame" id="1003">
        <Anchors>
            <Anchor point="LEFT" relativeTo="ABP_Button3" relativePoint="RIGHT">
                <Offset>
                    <AbsDimension x="6" y="0"/>
                </Offset>
            </Anchor>
        </Anchors>
    </CheckButton>
    <CheckButton name="ABP_Button5" inherits="ABP_ButtonTemplate" parent="ABP_BarMainFrame" id="1004">
        <Anchors>
            <Anchor point="LEFT" relativeTo="ABP_Button4" relativePoint="RIGHT">
                <Offset>
                    <AbsDimension x="6" y="0"/>
                </Offset>
            </Anchor>
        </Anchors>
    </CheckButton>

</Ui>
